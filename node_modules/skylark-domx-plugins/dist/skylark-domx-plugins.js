/**
 * skylark-domx-plugins - The skylark plugins library for dom api extension.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
!function(t,n){var r=n.define,require=n.require,i="function"==typeof r&&r.amd,e=!i&&"undefined"!=typeof exports;if(!i&&!r){var o={};r=n.define=function(t,n,r){"function"==typeof r?(o[t]={factory:r,deps:n.map(function(n){return function(t,n){if("."!==t[0])return t;var r=n.split("/"),i=t.split("/");r.pop();for(var e=0;e<i.length;e++)"."!=i[e]&&(".."==i[e]?r.pop():r.push(i[e]));return r.join("/")}(n,t)}),resolved:!1,exports:null},require(t)):o[t]={factory:null,resolved:!0,exports:r}},require=n.require=function(t){if(!o.hasOwnProperty(t))throw new Error("Module "+t+" has not been defined");var module=o[t];if(!module.resolved){var r=[];module.deps.forEach(function(t){r.push(require(t))}),module.exports=module.factory.apply(n,r)||null,module.resolved=!0}return module.exports}}if(!r)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(t,require){t("skylark-domx-plugins/plugins",["skylark-langx-ns","skylark-langx-types","skylark-langx-objects","skylark-langx-funcs","skylark-langx-events/Emitter","skylark-domx-noder","skylark-domx-data","skylark-domx-eventer","skylark-domx-finder","skylark-domx-geom","skylark-domx-styler","skylark-domx-fx","skylark-domx-query","skylark-domx-velm"],function(t,n,r,i,e,o,s,a,l,u,p,f,c,h){"use strict";var y=Array.prototype.slice,d=(Array.prototype.concat,{}),m={};function v(t,n,r){var i=n.split(":"),e=i[1];n=i[0],e||(e=n);var o=s.data(t,e);if("instance"===r)return o;if("destroy"===r){if(!o)throw new Error("The plugin instance is not existed");o.destroy(),o=void 0}else if(o)r&&o.reset(r);else{if(void 0!==r&&"object"!=typeof r)throw new Error("The options must be a plain object");var a=d[n];o=new a(t,r),s.data(t,e,o)}return o}function k(t){return t.hasOwnProperty("superclass")?t.superclass:Object.getPrototypeOf(t)}var g=e.inherit({klassName:"Plugin",_construct:function(t,n){this._elm=t,this._initOptions(n)},_initOptions:function(t){var n=this.constructor,i=n.cache=n.hasOwnProperty("cache")?n.cache:{},e=i.defaults;if(!e){var o=[];do{if(o.unshift(n),n===g)break;n=k(n)}while(n);e=i.defaults={};for(var s=0;s<o.length;s++)(n=o[s]).prototype.hasOwnProperty("options")&&r.mixin(e,n.prototype.options,!0),n.hasOwnProperty("options")&&r.mixin(e,n.options,!0)}return Object.defineProperty(this,"options",{value:r.mixin({},e,t,!0)}),this.options},destroy:function(){this._destroy(),this.unlistenTo(),s.removeData(this._elm,this.pluginName)},_destroy:i.noop,_delay:function(t,n){var r=this;return setTimeout(function(){return("string"==typeof t?r[t]:t).apply(r,arguments)},n||0)},elmx:function(t){return t=t||this._elm,h(t)},$:function(t){return t=t||this._elm,c(t)},option:function(t,n){var i,e,o,s=t;if(0===arguments.length)return r.mixin({},this.options);if("string"==typeof t)if(s={},i=t.split("."),t=i.shift(),i.length){for(e=s[t]=r.mixin({},this.options[t]),o=0;o<i.length-1;o++)e[i[o]]=e[i[o]]||{},e=e[i[o]];if(t=i.pop(),1===arguments.length)return void 0===e[t]?null:e[t];e[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];s[t]=n}return this._setOptions(s),this},_setOptions:function(t){var n;for(n in t)this._setOption(n,t[n]);return this},_setOption:function(t,n){return this.options[t]=n,this},getUID:function(t){t=t||"plugin";do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},elm:function(){return this._elm}});function x(){return x}return g.instantiate=function(t,n){return v(t,this.prototype.pluginName,n)},c.fn.plugin=function(t,n){var r,i=y.call(arguments,1),e=this;return this.each(function(){r=v.apply(e,[this,t].concat(i))}),r},h.partial("plugin",function(t,n){var r=y.call(arguments,1);return v.apply(this,[this._elm,t].concat(r))}),r.mixin(x,{instantiate:v,Plugin:g,register:function(t,r,i,e){var o=t.prototype.pluginName;if(d[o]=t,r){i&&n.isFunction(i)&&(e=i,i=null),i&&(o=o+":"+i);var s=m[r]=function(t,r){return function(i,e){var o=v(i,t,"instance");if("instance"===e)return o||null;if(!o&&(o=v(i,t,"object"==typeof e&&e||{}),"string"!=typeof e))return this;if(e){var s=y.call(arguments,1);if(r)return r.apply(o,s);if("string"==typeof e){var a=e;if(!o)throw new Error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+a+"'");if(!n.isFunction(o[a])||"_"===a.charAt(0))throw new Error("no such method '"+a+"' for "+t+" plugin instance");s=y.call(s,1);var l=o[a].apply(o,s);return l==o&&(l=void 0),l}}}}(o,e);c.fn[r]=function(t){var n=this;if(this.length||"instance"!==t){var r=y.call(arguments);this.each(function(){var t=y.call(r);t.unshift(this);var i=s.apply(void 0,t);void 0!==i&&(n=i)})}else n=void 0;return n},h.partial(r,function(t){var n=s(this._elm,t);return void 0===n&&(n=this),n})}},shortcuts:m}),t.attach("domx.plugins",x)}),t("skylark-domx-plugins/main",["./plugins"],function(t){return t}),t("skylark-domx-plugins",["skylark-domx-plugins/main"],function(t){return t})}(r),!i){var s=require("skylark-langx-ns");e?module.exports=s:n.skylarkjs=s}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-domx-plugins.js.map
