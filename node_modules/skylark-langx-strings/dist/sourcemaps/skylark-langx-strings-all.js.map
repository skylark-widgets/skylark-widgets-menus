{"version":3,"sources":["skylark-langx-strings-all.js"],"names":["define","obj1","path","obj2","split","length","ns","i","name","_attach","skylark","attach","obj","main","escapeCharMap","Object","freeze","&","<",">","\"","'","`","=","replaceChar","c","escapeChars","idCounter","template","id","data","string","line","body","func","map","escapeHTML","me","arguments","callee","cache","test","get","variable","replace","Function","_","stash","call","context","ret","document","getElementById","innerHTML","camelCase","str","a","toUpperCase","dasherize","toLowerCase","deserializeValue","value","JSON","parse","e","String","toString","generateUUID","r","Math","random","v","ltrim","lowerFirst","charAt","slice","rtrim","serializeValue","stringify","substitute","transform","thisObject","getObject","key","match","retVal","getValue","keys","_k","pop","reverse","window","proxy","format","slugify","from","l","RegExp","trim","prototype","uniqueId","prefix","upperFirst","strings","base64","decode","input","binary","chr1","chr2","chr3","enc1","enc2","enc3","enc4","output","this","_keyStr","indexOf","fromCharCode","utftext","c1","c2","charCodeAt","c3","_utf8_decode","encode","n","_utf8_encode","isNaN"],"mappings":"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","file":"../skylark-langx-strings-all.js","sourcesContent":["define('skylark-langx-ns/_attach',[],function(){\r\n    return  function attach(obj1,path,obj2) {\r\n        if (typeof path == \"string\") {\r\n            path = path.split(\".\");//[path]\r\n        };\r\n        var length = path.length,\r\n            ns=obj1,\r\n            i=0,\r\n            name = path[i++];\r\n\r\n        while (i < length) {\r\n            ns = ns[name] = ns[name] || {};\r\n            name = path[i++];\r\n        }\r\n\r\n        return ns[name] = obj2;\r\n    }\r\n});\ndefine('skylark-langx-ns/ns',[\r\n    \"./_attach\"\r\n], function(_attach) {\r\n    var skylark = {\r\n    \tattach : function(path,obj) {\r\n    \t\treturn _attach(skylark,path,obj);\r\n    \t}\r\n    };\r\n    return skylark;\r\n});\r\n\ndefine('skylark-langx-ns/main',[\r\n\t\"./ns\"\r\n],function(skylark){\r\n\treturn skylark;\r\n});\ndefine('skylark-langx-ns', ['skylark-langx-ns/main'], function (main) { return main; });\n\ndefine('skylark-langx-strings/strings',[\r\n    \"skylark-langx-ns\"\r\n],function(skylark){\r\n    // add default escape function for escaping HTML entities\r\n    var escapeCharMap = Object.freeze({\r\n        '&': '&amp;',\r\n        '<': '&lt;',\r\n        '>': '&gt;',\r\n        '\"': '&quot;',\r\n        \"'\": '&#x27;',\r\n        '`': '&#x60;',\r\n        '=': '&#x3D;',\r\n    });\r\n    function replaceChar(c) {\r\n        return escapeCharMap[c];\r\n    }\r\n    var escapeChars = /[&<>\"'`=]/g;\r\n\r\n\r\n     /*\r\n     * Converts camel case into dashes.\r\n     * @param {String} str\r\n     * @return {String}\r\n     * @exapmle marginTop -> margin-top\r\n     */\r\n    function dasherize(str) {\r\n        return str.replace(/::/g, '/')\r\n            .replace(/([A-Z]+)([A-Z][a-z])/g, '$1_$2')\r\n            .replace(/([a-z\\d])([A-Z])/g, '$1_$2')\r\n            .replace(/_/g, '-')\r\n            .toLowerCase();\r\n    }\r\n\r\n    function deserializeValue(value) {\r\n        try {\r\n            return value ?\r\n                value == \"true\" ||\r\n                (value == \"false\" ? false :\r\n                    value == \"null\" ? null :\r\n                    +value + \"\" == value ? +value :\r\n                    /^[\\[\\{]/.test(value) ? JSON.parse(value) :\r\n                    value) : value;\r\n        } catch (e) {\r\n            return value;\r\n        }\r\n    }\r\n\r\n    function escapeHTML(str) {\r\n        if (str == null) {\r\n            return '';\r\n        }\r\n        if (!str) {\r\n            return String(str);\r\n        }\r\n\r\n        return str.toString().replace(escapeChars, replaceChar);\r\n    }\r\n\r\n    function generateUUID() {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n            var r = Math.random() * 16 | 0;\r\n            var v = c === 'x' ? r : ((r & 0x3) | 0x8);\r\n            return v.toString(16);\r\n        });\r\n    }\r\n\r\n    function trim(str) {\r\n        return str == null ? \"\" : String.prototype.trim.call(str);\r\n    }\r\n\r\n    function substitute( /*String*/ template,\r\n        /*Object|Array*/\r\n        map,\r\n        /*Function?*/\r\n        transform,\r\n        /*Object?*/\r\n        thisObject) {\r\n        // summary:\r\n        //    Performs parameterized substitutions on a string. Throws an\r\n        //    exception if any parameter is unmatched.\r\n        // template:\r\n        //    a string with expressions in the form `${key}` to be replaced or\r\n        //    `${key:format}` which specifies a format function. keys are case-sensitive.\r\n        // map:\r\n        //    hash to search for substitutions\r\n        // transform:\r\n        //    a function to process all parameters before substitution takes\r\n\r\n\r\n        thisObject = thisObject || window;\r\n        transform = transform ?\r\n            proxy(thisObject, transform) : function(v) {\r\n                return v;\r\n            };\r\n\r\n        function getObject(key, map) {\r\n            if (key.match(/\\./)) {\r\n                var retVal,\r\n                    getValue = function(keys, obj) {\r\n                        var _k = keys.pop();\r\n                        if (_k) {\r\n                            if (!obj[_k]) return null;\r\n                            return getValue(keys, retVal = obj[_k]);\r\n                        } else {\r\n                            return retVal;\r\n                        }\r\n                    };\r\n                return getValue(key.split(\".\").reverse(), map);\r\n            } else {\r\n                return map[key];\r\n            }\r\n        }\r\n\r\n        return template.replace(/\\$\\{([^\\s\\:\\}]+)(?:\\:([^\\s\\:\\}]+))?\\}/g,\r\n            function(match, key, format) {\r\n                var value = getObject(key, map);\r\n                if (format) {\r\n                    value = getObject(format, thisObject).call(thisObject, value, key);\r\n                }\r\n                return transform(value, key).toString();\r\n            }); // String\r\n    }\r\n\r\n    var idCounter = 0;\r\n    function uniqueId (prefix) {\r\n        var id = ++idCounter + '';\r\n        return prefix ? prefix + id : id;\r\n    }\r\n\r\n\r\n    /**\r\n     * https://github.com/cho45/micro-template.js\r\n     * (c) cho45 http://cho45.github.com/mit-license\r\n     */\r\n    function template (id, data) {\r\n\r\n        function include(name, args) {\r\n            var stash = {};\r\n            for (var key in template.context.stash) if (template.context.stash.hasOwnProperty(key)) {\r\n                stash[key] = template.context.stash[key];\r\n            }\r\n            if (args) for (var key in args) if (args.hasOwnProperty(key)) {\r\n                stash[key] = args[key];\r\n            }\r\n            var context = template.context;\r\n            context.ret += template(name, stash);\r\n            template.context = context;\r\n        }\r\n\r\n        function wrapper(name, fun) {\r\n            var current = template.context.ret;\r\n            template.context.ret = '';\r\n            fun.apply(template.context);\r\n            var content = template.context.ret;\r\n            var orig_content = template.context.stash.content;\r\n            template.context.stash.content = content;\r\n            template.context.ret = current + template(name, template.context.stash);\r\n            template.context.stash.content = orig_content;\r\n        }\r\n\r\n        var me = arguments.callee;\r\n        if (!me.cache[id]) me.cache[id] = (function () {\r\n            var name = id, string = /^[\\w\\-]+$/.test(id) ? me.get(id): (name = 'template(string)', id); // no warnings\r\n            var line = 1, body = (\r\n                \"try { \" +\r\n                    (me.variable ?  \"var \" + me.variable + \" = this.stash;\" : \"with (this.stash) { \") +\r\n                        \"this.ret += '\"  +\r\n                        string.\r\n                            replace(/<%/g, '\\x11').replace(/%>/g, '\\x13'). // if you want other tag, just edit this line\r\n                            replace(/'(?![^\\x11\\x13]+?\\x13)/g, '\\\\x27').\r\n                            replace(/^\\s*|\\s*$/g, '').\r\n                            replace(/\\n|\\r\\n/g, function () { return \"';\\nthis.line = \" + (++line) + \"; this.ret += '\\\\n\" }).\r\n                            replace(/\\x11=raw(.+?)\\x13/g, \"' + ($1) + '\").\r\n                            replace(/\\x11=(.+?)\\x13/g, \"' + this.escapeHTML($1) + '\").\r\n                            replace(/\\x11(.+?)\\x13/g, \"'; $1; this.ret += '\") +\r\n                    \"'; \" + (me.variable ? \"\" : \"}\") + \"return this.ret;\" +\r\n                \"} catch (e) { throw 'TemplateError: ' + e + ' (on \" + name + \"' + ' line ' + this.line + ')'; } \" +\r\n                \"//@ sourceURL=\" + name + \"\\n\" // source map\r\n            ).replace(/this\\.ret \\+= '';/g, '');\r\n            var func = new Function(body);\r\n            var map  = { '&' : '&amp;', '<' : '&lt;', '>' : '&gt;', '\\x22' : '&#x22;', '\\x27' : '&#x27;' };\r\n            var escapeHTML = function (string) { return (''+string).replace(/[&<>\\'\\\"]/g, function (_) { return map[_] }) };\r\n            return function (stash) { return func.call(me.context = { escapeHTML: escapeHTML, line: 1, ret : '', stash: stash }) };\r\n        })();\r\n        return data ? me.cache[id](data) : me.cache[id];\r\n    }\r\n\r\n    template.cache = {};\r\n    \r\n\r\n    template.get = function (id) {\r\n        return document.getElementById(id).innerHTML;\r\n    };\r\n\r\n\r\n    function ltrim(str) {\r\n        return str.replace(/^\\s+/, '');\r\n    }\r\n    \r\n    function rtrim(str) {\r\n        return str.replace(/\\s+$/, '');\r\n    }\r\n\r\n    // Slugify a string\r\n    function slugify(str) {\r\n        str = str.replace(/^\\s+|\\s+$/g, '');\r\n\r\n        // Make the string lowercase\r\n        str = str.toLowerCase();\r\n\r\n        // Remove accents, swap ñ for n, etc\r\n        var from = \"ÁÄÂÀÃÅČÇĆĎÉĚËÈÊẼĔȆÍÌÎÏŇÑÓÖÒÔÕØŘŔŠŤÚŮÜÙÛÝŸŽáäâàãåčçćďéěëèêẽĕȇíìîïňñóöòôõøðřŕšťúůüùûýÿžþÞĐđßÆa·/_,:;\";\r\n        var to   = \"AAAAAACCCDEEEEEEEEIIIINNOOOOOORRSTUUUUUYYZaaaaaacccdeeeeeeeeiiiinnooooooorrstuuuuuyyzbBDdBAa------\";\r\n        for (var i=0, l=from.length ; i<l ; i++) {\r\n            str = str.replace(new RegExp(from.charAt(i), 'g'), to.charAt(i));\r\n        }\r\n\r\n        // Remove invalid chars\r\n        //str = str.replace(/[^a-z0-9 -]/g, '') \r\n        // Collapse whitespace and replace by -\r\n        str = str.replace(/\\s+/g, '-') \r\n        // Collapse dashes\r\n        .replace(/-+/g, '-'); \r\n\r\n        return str;\r\n    }    \r\n\r\n    // return boolean if string 'true' or string 'false', or if a parsable string which is a number\r\n    // also supports JSON object and/or arrays parsing\r\n    function toType(str) {\r\n        var type = typeof str;\r\n        if (type !== 'string') {\r\n            return str;\r\n        }\r\n        var nb = parseFloat(str);\r\n        if (!isNaN(nb) && isFinite(str)) {\r\n            return nb;\r\n        }\r\n        if (str === 'false') {\r\n            return false;\r\n        }\r\n        if (str === 'true') {\r\n            return true;\r\n        }\r\n\r\n        try {\r\n            str = JSON.parse(str);\r\n        } catch (e) {}\r\n\r\n        return str;\r\n    }\r\n\r\n\treturn skylark.attach(\"langx.strings\",{\r\n        camelCase: function(str) {\r\n            return str.replace(/-([\\da-z])/g, function(a) {\r\n                return a.toUpperCase().replace('-', '');\r\n            });\r\n        },\r\n\r\n        dasherize: dasherize,\r\n\r\n        deserializeValue: deserializeValue,\r\n\r\n        escapeHTML : escapeHTML,\r\n\r\n        generateUUID : generateUUID,\r\n\r\n        ltrim : ltrim,\r\n\r\n        lowerFirst: function(str) {\r\n            return str.charAt(0).toLowerCase() + str.slice(1);\r\n        },\r\n\r\n        rtrim : rtrim,\r\n\r\n        serializeValue: function(value) {\r\n            return JSON.stringify(value)\r\n        },\r\n\r\n\r\n        substitute: substitute,\r\n\r\n        slugify : slugify,\r\n\r\n        //template : template,\r\n\r\n        trim: trim,\r\n\r\n        uniqueId: uniqueId,\r\n\r\n        upperFirst: function(str) {\r\n            return str.charAt(0).toUpperCase() + str.slice(1);\r\n        }\r\n\t}) ; \r\n\r\n});\ndefine('skylark-langx-strings/base64',[\r\n\t\"./strings\"\r\n],function(strings) {\r\n\r\n\t// private property\r\n\tconst _keyStr = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\r\n\r\n\t// private method for UTF-8 encoding\r\n\tfunction _utf8_encode(string) {\r\n\t\tstring = string.replace(/\\r\\n/g,\"\\n\");\r\n\t\tvar utftext = \"\";\r\n\r\n\t\tfor (var n = 0; n < string.length; n++) {\r\n\r\n\t\t\tvar c = string.charCodeAt(n);\r\n\r\n\t\t\tif (c < 128) {\r\n\t\t\t\tutftext += String.fromCharCode(c);\r\n\t\t\t}\r\n\t\t\telse if((c > 127) && (c < 2048)) {\r\n\t\t\t\tutftext += String.fromCharCode((c >> 6) | 192);\r\n\t\t\t\tutftext += String.fromCharCode((c & 63) | 128);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tutftext += String.fromCharCode((c >> 12) | 224);\r\n\t\t\t\tutftext += String.fromCharCode(((c >> 6) & 63) | 128);\r\n\t\t\t\tutftext += String.fromCharCode((c & 63) | 128);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn utftext;\r\n\t}\r\n\r\n\t// private method for UTF-8 decoding\r\n\tfunction _utf8_decode(utftext) {\r\n\t\tvar string = \"\";\r\n\t\tvar i = 0;\r\n\t\tvar c = c1 = c2 = 0;\r\n\r\n\t\twhile ( i < utftext.length ) {\r\n\r\n\t\t\tc = utftext.charCodeAt(i);\r\n\r\n\t\t\tif (c < 128) {\r\n\t\t\t\tstring += String.fromCharCode(c);\r\n\t\t\t\ti++;\r\n\t\t\t}\r\n\t\t\telse if((c > 191) && (c < 224)) {\r\n\t\t\t\tc2 = utftext.charCodeAt(i+1);\r\n\t\t\t\tstring += String.fromCharCode(((c & 31) << 6) | (c2 & 63));\r\n\t\t\t\ti += 2;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tc2 = utftext.charCodeAt(i+1);\r\n\t\t\t\tc3 = utftext.charCodeAt(i+2);\r\n\t\t\t\tstring += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\r\n\t\t\t\ti += 3;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn string;\r\n\t}\r\n\r\n\t// public method for encoding\r\n\tfunction encode(input, binary) {\r\n\t\tbinary = (binary != null) ? binary : false;\r\n\t\tvar output = \"\";\r\n\t\tvar chr1, chr2, chr3, enc1, enc2, enc3, enc4;\r\n\t\tvar i = 0;\r\n\r\n\t\tif (!binary)\r\n\t\t{\r\n\t\t\tinput = _utf8_encode(input);\r\n\t\t}\r\n\r\n\t\twhile (i < input.length) {\r\n\r\n\t\t\tchr1 = input.charCodeAt(i++);\r\n\t\t\tchr2 = input.charCodeAt(i++);\r\n\t\t\tchr3 = input.charCodeAt(i++);\r\n\r\n\t\t\tenc1 = chr1 >> 2;\r\n\t\t\tenc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\r\n\t\t\tenc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\r\n\t\t\tenc4 = chr3 & 63;\r\n\r\n\t\t\tif (isNaN(chr2)) {\r\n\t\t\t\tenc3 = enc4 = 64;\r\n\t\t\t} else if (isNaN(chr3)) {\r\n\t\t\t\tenc4 = 64;\r\n\t\t\t}\r\n\r\n\t\t\toutput = output +\r\n\t\t\tthis._keyStr.charAt(enc1) + this._keyStr.charAt(enc2) +\r\n\t\t\tthis._keyStr.charAt(enc3) + this._keyStr.charAt(enc4);\r\n\r\n\t\t}\r\n\r\n\t\treturn output;\r\n\t}\r\n\r\n\t// public method for decoding\r\n\tfunction decode(input, binary) {\r\n\t\tbinary = (binary != null) ? binary : false;\r\n\t\tvar output = \"\";\r\n\t\tvar chr1, chr2, chr3;\r\n\t\tvar enc1, enc2, enc3, enc4;\r\n\t\tvar i = 0;\r\n\r\n\t\tinput = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\r\n\r\n\t\twhile (i < input.length) {\r\n\r\n\t\t\tenc1 = this._keyStr.indexOf(input.charAt(i++));\r\n\t\t\tenc2 = this._keyStr.indexOf(input.charAt(i++));\r\n\t\t\tenc3 = this._keyStr.indexOf(input.charAt(i++));\r\n\t\t\tenc4 = this._keyStr.indexOf(input.charAt(i++));\r\n\r\n\t\t\tchr1 = (enc1 << 2) | (enc2 >> 4);\r\n\t\t\tchr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\r\n\t\t\tchr3 = ((enc3 & 3) << 6) | enc4;\r\n\r\n\t\t\toutput = output + String.fromCharCode(chr1);\r\n\r\n\t\t\tif (enc3 != 64) {\r\n\t\t\t\toutput = output + String.fromCharCode(chr2);\r\n\t\t\t}\r\n\t\t\tif (enc4 != 64) {\r\n\t\t\t\toutput = output + String.fromCharCode(chr3);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif (!binary) {\r\n\t\t\toutput = _utf8_decode(output);\r\n\t\t}\r\n\r\n\t\treturn output;\r\n\r\n\t}\r\n\r\n\r\n\treturn strings.base64 = {\r\n\t\tdecode,\r\n\t\tencode\r\n\t};\r\n\t\r\n});\ndefine('skylark-langx-strings/main',[\r\n\t\"./strings\",\r\n\t\"./base64\"\r\n],function(strings){\r\n\treturn strings;\r\n});\ndefine('skylark-langx-strings', ['skylark-langx-strings/main'], function (main) { return main; });\n\n"]}