/**
 * skylark-domx-fx - The skylark fx library for dom api extension.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["skylark-langx/langx","skylark-domx-browser","skylark-domx-noder","skylark-domx-geom","skylark-domx-styler","skylark-domx-eventer","./fx"],function(e,i,n,r,t,s,o){var a,l,c,p,m,f,d,u=i.normalizeCssEvent("AnimationEnd"),y=i.normalizeCssEvent("TransitionEnd"),x=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,g=i.css3PropPrefix+"transform",k={};return k[a=i.normalizeCssProperty("animation-name")]=k[l=i.normalizeCssProperty("animation-duration")]=k[i.normalizeCssProperty("animation-delay")]=k[c=i.normalizeCssProperty("animation-timing-function")]="",k[p=i.normalizeCssProperty("transition-property")]=k[m=i.normalizeCssProperty("transition-duration")]=k[d=i.normalizeCssProperty("transition-delay")]=k[f=i.normalizeCssProperty("transition-timing-function")]="",o.animate=function(i,n,P,z,h,C){var v,b,T,w={},j=[],E="",O=this,S=!1,X=!1;if(e.isPlainObject(P)&&(z=P.easing,h=P.complete,C=P.delay,P=P.duration),e.isString(P)&&(P=o.speeds[P]),void 0===P&&(P=o.speeds.normal),P/=1e3,o.off&&(P=0),e.isFunction(z)?(h=z,eace="swing"):z=z||"swing",C?C/=1e3:C=0,e.isString(n))w[a]=n,w[l]=P+"s",w[c]=z,b=u;else{for(v in n){var Y=n[v];if(x.test(v))E+=v+"("+Y+") ";else{if("scrollTop"===v&&(X=!0),"clip"==v&&e.isPlainObject(Y)){if(w[v]="rect("+Y.top+"px,"+Y.right+"px,"+Y.bottom+"px,"+Y.left+"px)","auto"==t.css(i,"clip")){var A=r.size(i);t.css(i,"clip","rect(0px,"+A.width+"px,"+A.height+"px,0px)")}}else w[v]=Y;j.push(e.dasherize(v))}}b=y}return E&&(w[g]=E,j.push(g)),P>0&&e.isPlainObject(n)&&(w[p]=j.join(", "),w[m]=P+"s",w[d]=C+"s",w[f]=z),T=function(e){if(S=!0,e){if(e.target!==e.currentTarget)return;s.off(e.target,b,T)}else s.off(i,u,T);t.css(i,k),h&&h.call(this)},P>0&&(s.on(i,b,T),e.debounce(function(){S||T.call(O)},1e3*(P+C)+25)()),i.clientLeft,t.css(i,w),P<=0&&e.debounce(function(){S||T.call(O)},0)(),X&&scrollToTop(i,n.scrollTop,P,h),this}});
//# sourceMappingURL=sourcemaps/animate.js.map
