{"version":3,"sources":["skylark-widgets-menus.js"],"names":["define","skylark","attach","Widget","TextMixin","menus","ButtonMenu","inherit","_construct","parent","prototype","call","this","_elm","style","cursor","preventDragEvents","skin","getSkin","color","textColor","display","_buildText","setColor","buttonColor","buttonOverColor","span","textIndent","icon","baseColor","overColor","backgroundColor","onmouseenter","onmouseleave","setStyles","baseStyle","overStyle","i","setIcon","document","createElement","position","left","top","width","height","appendChild","src","Button","Vector2","geom","Panel","DropdownMenu","Editor","theme","pointerEvents","panel","overflow","zIndex","arrow","right","arrowRightImageUrl","direction","DOWN","expanded","itemsSize","items","self","setExpanded","setDirection","location","showArrow","removeItem","index","length","destroy","splice","addItem","name","callback","button","setText","setAlignment","LEFT","set","setOnClick","undefined","push","addMenu","menu","setMargin","y","size","x","out","testAxis","bottom","UP","RIGHT","updateItems","updateInterface","updateSize","addOption","updateOptions","ContextMenu","offset","text","Text","copy","updatePosition","removeOption","updateOption","main"],"mappings":"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","file":"../skylark-widgets-menus.js","sourcesContent":["define('skylark-widgets-menus/menus',[\r\n\t\"skylark-langx/skylark\"\r\n],function(skylark) {\r\n\r\n\treturn skylark.attach(\"widgets.menus\",{});\r\n\r\n});\r\n\r\n\ndefine('menus',[\r\n\t\"skylark-langx/skylark\"\r\n],function(skylark) {\r\n\r\n\treturn skylark.attach(\"widgets.menus\",{});\r\n\r\n});\r\n\r\n\ndefine('skylark-widgets-menus/ButtonMenu',[\r\n\t\"skylark-widgets-base/Widget\",\r\n\t\"skylark-widgets-base/mixins/TextMixin\",\r\n\t\"../menus\"\r\n],function(Widget,TextMixin,menus){\r\n\t\"use strict\";\r\n\r\n\t/**\r\n\t * Button used in dropdown menus, context menus, etc.\r\n\t * \r\n\t * The button has text and its possible to add a icon.\r\n\t *\r\n\t * @class ButtonMenu\r\n\t * @extends {Widget}\r\n\t * @param {Widget} parent Parent widget.\r\n\t */\r\n\tvar ButtonMenu = Widget.inherit({\r\n\r\n\t\t_construct : function (parent) {\r\n\t\t\tWidget.prototype._construct.call(this, parent, \"div\");\r\n\r\n\t\t\tthis._elm.style.cursor = \"pointer\";\r\n\r\n\t\t\tthis.preventDragEvents();\r\n\r\n\r\n\t\t\tvar skin = this.getSkin();\r\n\r\n\t\t\t//this._elm.style.color = Editor.theme.textColor;\r\n\t\t\tthis._elm.style.color = skin.textColor;\r\n\t\t\tthis._elm.style.display = \"flex\";\r\n\t\t\t\r\n\t\t\t/*\r\n\t\t\t//Span\r\n\t\t\tthis.span = document.createElement(\"span\");\r\n\t\t\tthis.span.style.overflow = \"hidden\";\r\n\t\t\tthis._elm.appendChild(this.span);\r\n\r\n\t\t\t//Text\r\n\t\t\tthis.text = document.createTextNode(\"\");\r\n\t\t\tthis.span.appendChild(this.text);\r\n\r\n\r\n\t\t\t//this.setColor(Editor.theme.buttonColor, Editor.theme.buttonOverColor);\r\n\t\t\tthis.setColor(skin.buttonColor, skin.buttonOverColor);\r\n\t\t\tthis.allowWordBreak(false);\r\n\t\t\tthis.setVerticalAlignment(TextMixin.CENTER);\r\n\t\t\tthis.setAlignment(TextMixin.CENTER);\r\n\t\t\t*/\r\n\r\n\t\t\tthis._buildText();\r\n\r\n\t\t\t//this.setColor(Editor.theme.buttonColor, Editor.theme.buttonOverColor);\r\n\t\t\tthis.setColor(skin.buttonColor, skin.buttonOverColor);\r\n\r\n\t\t\tthis.span.style.textIndent = \"25px\";\r\n\r\n\t\t\t/**\r\n\t\t\t * Icon element.\r\n\t\t\t *\r\n\t\t\t * @attribute icon\r\n\t\t\t * @type {DOM}\r\n\t\t\t */\r\n\t\t\tthis.icon = null;\r\n\r\n\r\n\t\t\t//this.setColor(Editor.theme.buttonColor, Editor.theme.buttonOverColor);\r\n\t\t\tthis.setColor(skin.buttonColor, skin.buttonOverColor);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Set button color.\r\n\t\t * \r\n\t\t * When mouse is over the button uses the overColor, when the mouse gets outside of the button it uses the base color.\r\n\t\t * \r\n\t\t * @method setColor\r\n\t\t * @param {String} baseColor CSS color for the button background.\r\n\t\t * @param {String} overColor CSS color for the button when mouse is over it.\r\n\t\t */\r\n\t\tsetColor : function(baseColor, overColor){\r\n\t\t\tthis._elm.style.backgroundColor = baseColor;\r\n\r\n\t\t\tthis._elm.onmouseenter = function()\t{\r\n\t\t\t\tthis.style.backgroundColor = overColor;\r\n\t\t\t};\r\n\r\n\t\t\tthis._elm.onmouseleave = function()\t{\r\n\t\t\t\tthis.style.backgroundColor = baseColor;\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Set button styles, the style can be descriped in a object.\r\n\t\t *\r\n\t\t * Here is an exaple of a style object:\r\n\t\t * {\r\n\t\t * backgroundColor: \"#FF0000\",\r\n\t\t * color: \"#FFFFFF\"\r\n\t\t * }\r\n\t\t *\r\n\t\t * @method setColor\r\n\t\t * @param {Object} baseStyle Object with the style to be applied as base.\r\n\t\t * @param {Object} overStyle Object with the style to be applied when mouse is over.\r\n\t\t */\r\n\t\tsetStyles : function(baseStyle, overStyle)\t{\r\n\t\t\tfor(var i in baseStyle)\r\n\t\t\t{\r\n\t\t\t\tthis._elm.style[i] = baseStyle[i];\r\n\t\t\t}\r\n\r\n\t\t\tthis._elm.onmouseenter = function()\t{\r\n\t\t\t\tfor(var i in overStyle)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.style[i] = overStyle[i];\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tthis._elm.onmouseleave = function()\t{\r\n\t\t\t\tfor(var i in baseStyle)\t{\r\n\t\t\t\t\tthis.style[i] = baseStyle[i];\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Set button icon image URL.\r\n\t\t *\r\n\t\t * Creates the element if it still doesnt exist.\r\n\t\t *\r\n\t\t * @method setIcon\r\n\t\t * @param {String} icon Image URL.\r\n\t\t */\r\n\t\tsetIcon : function(icon) \t{\r\n\t\t\tif(this.icon === null) \t{\r\n\t\t\t\tthis.icon = document.createElement(\"img\");\r\n\t\t\t\tthis.icon.style.position = \"absolute\";\r\n\t\t\t\tthis.icon.style.display = \"block\";\r\n\t\t\t\tthis.icon.style.left = \"5px\";\r\n\t\t\t\tthis.icon.style.top = \"3px\";\r\n\t\t\t\tthis.icon.style.width = \"12px\";\r\n\t\t\t\tthis.icon.style.height = \"12px\";\r\n\t\t\t\tthis._elm.appendChild(this.icon);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.icon.src = icon;\r\n\t\t},\r\n\r\n\t\t...TextMixin\r\n\t\t\r\n\t});\r\n\r\n\treturn menus.ButtonMenu = ButtonMenu;\r\n});\r\n\r\n\r\n\r\n\tvar ButtonText = Button.inherit({\r\n\r\n\t\t_construct : function (parent) {\r\n\r\n\t\t},\r\n\t\t...TextMixin\r\n\t});\r\n\ndefine('skylark-widgets-menus/DropdownMenu',[\r\n\t\"skylark-langx-numerics/Vector2\",\r\n\t\"skylark-domx-geom\",\r\n\r\n\t\"skylark-widgets-base/Widget\",\r\n\t\"skylark-widgets-base/panels/Panel\",\r\n\t\"skylark-widgets-base/mixins/TextMixin\",\r\n\t\"./menus\",\r\n\t\"./ButtonMenu\"\r\n],function(\r\n\tVector2,\r\n\tgeom,\r\n\r\n\tWidget,\r\n\tPanel,\r\n\tTextMixin,\r\n\r\n\tmenus,\r\n\tButtonMenu\r\n){\r\n\t\"use strict\";\r\n\r\n\t/**\r\n\t * Dropdown menu element, used to create dropdowns in menu bars and in context menus.\r\n\t * \r\n\t * @class DropdownMenu\r\n\t * @extends {Text}\r\n\t * @param {Widget} parent Parent widget. \r\n\t */\r\n\r\n\r\n\tvar DropdownMenu = Widget.inherit({\r\n\t\t...TextMixin,\r\n\r\n\t\t_construct : function (parent) {\r\n\t\t\tWidget.prototype._construct.call(this, parent, \"div\");\r\n\r\n\t\t\tvar skin = this.getSkin();\r\n\r\n\t\t\tthis._elm.style.backgroundColor = Editor.theme.buttonColor;\r\n\t\t\tthis._elm.style.cursor = \"pointer\";\r\n\t\t\tthis._elm.style.pointerEvents = \"auto\";\r\n\r\n\t\t\tthis._buildText();\r\n\r\n\t\t\tthis.preventDragEvents();\r\n\r\n\t\t\t/**\r\n\t\t\t * Panel element, where the items are stored.\r\n\t\t\t *\r\n\t\t\t * This DOM element is added directly to the parent DOM element.\r\n\t\t\t *\r\n\t\t\t * @attribute panel\r\n\t\t\t * @type {DOM}\r\n\t\t\t */\r\n\t\t\tthis.panel = new Panel(parent, \"div\");\r\n\t\t\tthis.panel._elm.style.overflow = \"visible\";\r\n\t\t\tthis.panel._elm.style.display = \"none\";\r\n\t\t\tthis.panel._elm.style.zIndex = \"300\";\r\n\r\n\t\t\t/**\r\n\t\t\t * Item icon image, the element is only created when a icon is set.\r\n\t\t\t *\r\n\t\t\t * @attribute icon\r\n\t\t\t * @type {DOM}\r\n\t\t\t */\r\n\t\t\tthis.icon = null;\r\n\r\n\t\t\t/**\r\n\t\t\t * Decorative arrow.\r\n\t\t\t *\r\n\t\t\t * @attribute arrow\r\n\t\t\t * @type {DOM}\r\n\t\t\t */\r\n\t\t\tthis.arrow = document.createElement(\"img\");\r\n\t\t\tthis.arrow.style.display = \"none\";\r\n\t\t\tthis.arrow.style.position = \"absolute\";\r\n\t\t\tthis.arrow.style.right = \"5px\";\r\n\t\t\tthis.arrow.style.top = \"3px\";\r\n\t\t\tthis.arrow.style.width = \"12px\";\r\n\t\t\tthis.arrow.style.height = \"12px\";\r\n\t\t\t//this.arrow.src = Global.FILE_PATH + \"icons/misc/arrow_right.png\";\r\n\t\t\tthis.arrow.src = skin.arrowRightImageUrl;\r\n\t\t\tthis._elm.appendChild(this.arrow);\t\r\n\r\n\t\t\t/**\r\n\t\t\t * Direction to open the dropdown.\r\n\t\t\t *\r\n\t\t\t * @attribute direction\r\n\t\t\t * @type {Number}\r\n\t\t\t */\r\n\t\t\tthis.direction = DropdownMenu.DOWN;\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t * Indicates if the dropdown menu is expanded.\r\n\t\t\t *\r\n\t\t\t * @attribute expanded\r\n\t\t\t * @type {Boolean}\r\n\t\t\t */\r\n\t\t\tthis.expanded = false;\r\n\t\t\tthis.itemsSize = new Vector2(150, 20);\r\n\r\n\t\t\t/**\r\n\t\t\t * Items available in the dropdown.\r\n\t\t\t *\r\n\t\t\t * Items are stored as: {button:button, value:object, name:string}\r\n\t\t\t *\r\n\t\t\t * @attribute items\r\n\t\t\t * @type {Array}\r\n\t\t\t */\r\n\t\t\tthis.items = [];\r\n\r\n\t\t\tvar self = this;\r\n\r\n\t\t\tthis._elm.onmouseenter = function()\r\n\t\t\t{\r\n\t\t\t\tself.setExpanded(true);\r\n\t\t\t\t//self._elm.style.backgroundColor = Editor.theme.buttonOverColor;\r\n\t\t\t\tself._elm.style.backgroundColor = skin.buttonOverColor;\r\n\t\t\t};\r\n\r\n\t\t\tthis._elm.onmouseleave = function()\r\n\t\t\t{\r\n\t\t\t\tself.setExpanded(false);\r\n\t\t\t\t//self._elm.style.backgroundColor = Editor.theme.buttonColor;\r\n\t\t\t\tself._elm.style.backgroundColor = skin.buttonColor;\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tthis.panel._elm.onmouseenter = function()\r\n\t\t\t{\r\n\t\t\t\tself.setExpanded(true);\r\n\t\t\t};\r\n\r\n\t\t\tthis.panel._elm.onmouseleave = function()\r\n\t\t\t{\r\n\t\t\t\tself.setExpanded(false);\r\n\t\t\t};\r\n\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Set location to where items should open.\r\n\t\t *\r\n\t\t * @method setDirection\r\n\t\t */\r\n\t\tsetDirection : function(location) {\r\n\t\t\tthis.direction = location;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Show arrow.\r\n\t\t *\r\n\t\t * @method showArrow\r\n\t\t */\r\n\t\tshowArrow : function() {\r\n\t\t\tthis.arrow.style.display = \"block\";\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Set icon.\r\n\t\t *\r\n\t\t * @method setIcon\r\n\t\t * @param {String} icon Image URL.\r\n\t\t */\r\n\t\tsetIcon : function(icon) {\r\n\t\t\tif(this.icon === null) {\r\n\t\t\t\tthis.icon = document.createElement(\"img\");\r\n\t\t\t\tthis.icon.style.display = \"block\";\r\n\t\t\t\tthis.icon.style.position = \"absolute\";\r\n\t\t\t\tthis.icon.style.left = \"5px\";\r\n\t\t\t\tthis.icon.style.top = \"3px\";\r\n\t\t\t\tthis.icon.style.width = \"12px\";\r\n\t\t\t\tthis.icon.style.height = \"12px\";\r\n\t\t\t\tthis._elm.appendChild(this.icon);\r\n\t\t\t}\r\n\r\n\t\t\tthis.icon.src = icon;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Remove item from menu.\r\n\t\t *\r\n\t\t * @method removeItem\r\n\t\t * @param {Number} index\r\n\t\t */\r\n\t\tremoveItem : function(index) {\r\n\t\t\tif(index >= 0 && index < this.items.length) {\r\n\t\t\t\tthis.items[index].destroy();\r\n\t\t\t\tthis.items.splice(index, 1);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Add new item to menu\r\n\t\t *\r\n\t\t * @method addItem\r\n\t\t * @param {String} name of the item\r\n\t\t * @param {Function} callback Callback function\r\n\t\t * @param {String} icon Icon URL.\r\n\t\t * @return {ButtonMenu} Button created for the new item.\r\n\t\t */\r\n\t\taddItem : function(name, callback, icon) {\r\n\t\t\tvar button = new ButtonMenu(this.panel);\r\n\t\t\tbutton._elm.style.zIndex = \"200\";\r\n\t\t\tbutton.setText(name);\r\n\t\t\tbutton.setAlignment(TextMixin.LEFT);\r\n\t\t\tbutton.position.set(25, 0);\r\n\r\n\t\t\tvar self = this;\r\n\t\t\tbutton.setOnClick(function(){\r\n\t\t\t\tcallback();\r\n\t\t\t\tself.setExpanded(false);\r\n\t\t\t});\r\n\r\n\t\t\tif(icon !== undefined) \t{\r\n\t\t\t\tbutton.setIcon(icon);\r\n\t\t\t}\r\n\r\n\t\t\tthis.items.push(button);\r\n\r\n\t\t\treturn button;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Add new menu to menu.\r\n\t\t *\r\n\t\t * @method addItem\r\n\t\t * @param {String} name Name of the item.\r\n\t\t * @param {String} icon Optional icon, image URL.\r\n\t\t * @return {DropdownMenu} The new menu created.\r\n\t\t */\r\n\t\taddMenu : function(name, icon) {\r\n\t\t\tvar menu = new DropdownMenu(this.panel);\r\n\t\t\tmenu.setText(name);\r\n\t\t\tmenu.setDirection(DropdownMenu.LEFT);\r\n\t\t\tmenu.showArrow();\r\n\t\t\tmenu.setAlignment(TextMixin.LEFT);\r\n\t\t\tmenu.setMargin(25);\r\n\t\t\t\r\n\t\t\tif(icon !== undefined)\r\n\t\t\t{\r\n\t\t\t\tmenu.setIcon(icon);\r\n\t\t\t}\r\n\r\n\t\t\tthis.items.push(menu);\r\n\r\n\t\t\treturn menu;\r\n\t\t},\r\n\r\n\t\t/** \r\n\t\t * Update expanded state, position all items in this dropdown.\r\n\t\t * \r\n\t\t * @method setExpanded\r\n\t\t * @param {Boolean} expanded If true the menu will be expanded.\r\n\t\t */\r\n\t\tsetExpanded : function(expanded){\r\n\t\t\tthis.expanded = expanded;\r\n\r\n\t\t\tif(this.expanded) {\r\n\t\t\t\tthis.panel._elm.style.display = \"block\";\r\n\r\n\t\t\t\tif(this.direction === DropdownMenu.DOWN){\r\n\t\t\t\t\tthis.panel._elm.style.top = (this.position.y + this.size.y) + \"px\";\r\n\t\t\t\t\tthis.panel._elm.style.left = this.position.x + \"px\";\r\n\r\n\t\t\t\t\t//var out = DOMUtils.checkBorder(this.panel);\r\n\t\t\t\t\tvar out = geom.testAxis(this.panel);\r\n\r\n\t\t\t\t\tif(out.y !== 0)\t{\r\n\t\t\t\t\t\tthis.panel._elm.style.top = null;\r\n\t\t\t\t\t\tthis.panel._elm.style.bottom = (this.position.y + this.size.y) + \"px\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(out.x !== 0)\t{\r\n\t\t\t\t\t\tthis.panel._elm.style.left = (this.position.x - out.x) + \"px\"; \r\n\t\t\t\t\t}\r\n\t\t\t\t} else if(this.direction === DropdownMenu.UP){\r\n\t\t\t\t\tthis.panel._elm.style.bottom = (this.position.y + this.size.y) + \"px\";\r\n\t\t\t\t\tthis.panel._elm.style.left = this.position.x + \"px\";\r\n\r\n\t\t\t\t\t//var out = DOMUtils.checkBorder(this.panel);\r\n\t\t\t\t\tvar out = geom.testAxis(this.panel);\r\n\t\t\t\t\tif(out.y !== 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.panel._elm.style.bottom = null;\r\n\t\t\t\t\t\tthis.panel._elm.style.top = (this.position.y + this.size.y) + \"px\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(out.x !== 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.panel._elm.style.left = (this.position.x - out.x) + \"px\"; \r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if(this.direction === DropdownMenu.LEFT)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.panel._elm.style.top = this.position.y + \"px\";\r\n\t\t\t\t\tthis.panel._elm.style.left = (this.position.x + this.size.x) + \"px\";\r\n\r\n\t\t\t\t\t//var out = DOMUtils.checkBorder(this.panel);\r\n\t\t\t\t\tvar out = geom.testAxis(this.panel);\r\n\t\t\t\t\tif(out.x !== 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.panel._elm.style.left = (this.position.x - this.size.x) + \"px\"; \r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(out.y !== 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.panel._elm.style.top = (this.position.y - out.y) + \"px\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if(this.direction === DropdownMenu.RIGHT)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.panel._elm.style.top = this.position.y + \"px\";\r\n\t\t\t\t\tthis.panel._elm.style.left = (this.position.x - this.size.x) + \"px\";\r\n\r\n\t\t\t\t\t//var out = DOMUtils.checkBorder(this.panel);\r\n\t\t\t\t\tvar out = geom.testAxis(this.panel);\r\n\t\t\t\t\tif(out.x !== 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.panel._elm.style.left = (this.position.x + this.size.x) + \"px\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(out.y !== 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.panel._elm.style.top = (this.position.y - out.y) + \"px\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tthis.panel._elm.style.display = \"none\";\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Update all items in the menu.\r\n\t\t * \r\n\t\t * @method updateItems\r\n\t\t */\r\n\t\tupdateItems : function() {\r\n\t\t\tfor(var i = 0; i < this.items.length; i++) {\r\n\t\t\t\tthis.items[i].size.set(this.itemsSize.x, this.itemsSize.y);\r\n\t\t\t\tthis.items[i].position.set(0, this.itemsSize.y * i);\r\n\t\t\t\tthis.items[i].updateInterface();\r\n\t\t\t}\r\n\r\n\t\t\tthis.panel._elm.style.width = this.size.x + \"px\";\r\n\t\t\tthis.panel._elm.style.height = (this.itemsSize.y * this.items.length) + \"px\";\r\n\t\t},\r\n\r\n\t\tdestroy : function() {\r\n\t\t\tWidget.prototype.destroy.call(this);\r\n\r\n\t\t\tthis.parent.destroy();\r\n\t\t},\r\n\r\n\t\tupdateSize : function() {\r\n\t\t\tTextMixin.updateSize.call(this);\r\n\r\n\t\t\tthis.updateItems();\r\n\t\t}\r\n\r\n\r\n\t});\r\n\r\n\r\n\tDropdownMenu.DOWN = 0;\r\n\tDropdownMenu.UP = 1;\r\n\tDropdownMenu.LEFT = 2;\r\n\tDropdownMenu.RIGHT = 3;\r\n\r\n\r\n\tDropdownMenu.prototype.addOption = DropdownMenu.prototype.addItem;\r\n\tDropdownMenu.prototype.updateOptions = DropdownMenu.prototype.updateItems;\r\n\r\n\r\n\treturn menus.DropdownMenu = DropdownMenu;\r\n});\ndefine('skylark-widgets-menus/ContextMenu',[\r\n\t\"skylark-langx-numerics/Vector2\",\r\n\t\"skylark-domx-geom\",\r\n\t\"skylark-widgets-base/panels/Panel\",\r\n\t\"../menus\",\r\n\t\"./ButtonMenu\",\r\n\t\"./DropdownMenu\"\r\n],function(\r\n\tVector2,\r\n\tgeom,\r\n\r\n\tPanel,\r\n\tmenus,\r\n\tButtonMenu,\r\n\tDropdownMenu\r\n){\r\n\t\"use strict\";\r\n\r\n\t/**\r\n\t * Context menu widget.\r\n\t * \r\n\t * @class ContextMenu\r\n\t * @extends {Panel}\r\n\t * @param {Widget} parent Parent widget.\r\n\t */\r\n\tvar ContextMenu = Panel.inherit({\r\n\r\n\t\t_construct : function (parent) {\t\r\n\t\t\tPanel.prototype._construct.call(this, parent, \"div\");\r\n\r\n\t\t\tvar self = this;\r\n\r\n\t\t\tthis._elm.style.position = \"absolute\";\r\n\t\t\tthis._elm.style.overflow = \"visible\";\r\n\t\t\tthis._elm.style.zIndex = \"300\";\r\n\t\t\tthis._elm.onmouseleave = function()\t{\r\n\t\t\t\tself.destroy();\r\n\t\t\t};\r\n\r\n\t\t\tthis.offset = new Vector2(20, 10);\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t * Items in this menu.\r\n\t\t\t * \r\n\t\t\t * @attribute items\r\n\t\t\t * @type {Array}\r\n\t\t\t */\r\n\t\t\tthis.items = [];\r\n\t\t},\r\n\r\n\r\n\t\t/**\r\n\t\t * Set the text of this context menu.\r\n\t\t * \r\n\t\t * @method setText\r\n\t\t * @param {String} text\r\n\t\t */\r\n\t\tsetText : function(text) {\r\n\t\t\tthis.text.setText(text);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Remove item from context menu.\r\n\t\t *\r\n\t\t * @method removeItem\r\n\t\t * @param {Number} index\r\n\t\t */\r\n\t\tremoveItem : function(index) {\r\n\t\t\tif(index >= 0 && index < this.items.length)\t{\r\n\t\t\t\tthis.items[index].destroy();\r\n\t\t\t\tthis.items.splice(index, 1);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Add new item to context menu\r\n\t\t *\r\n\t\t * @method addItem\r\n\t\t * @param {String} name of the item\r\n\t\t * @param {Function} callback Callback function\r\n\t\t */\r\n\t\taddItem : function(name, callback) {\r\n\t\t\tvar button = new ButtonMenu(this);\r\n\t\t\tbutton._elm.style.zIndex = \"10000\";\r\n\t\t\tbutton.setText(name);\r\n\t\t\tbutton.setAlignment(Text.LEFT);\r\n\t\t\tbutton.position.x = 25;\r\n\r\n\t\t\tvar self = this;\r\n\t\t\tbutton.setOnClick(function(){\r\n\t\t\t\tcallback();\r\n\t\t\t\tself.destroy();\r\n\t\t\t});\r\n\r\n\t\t\tthis.items.push(button);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Add new menu to context menu\r\n\t\t *\r\n\t\t * @method addItem\r\n\t\t * @param {String} name of the item.\r\n\t\t * @return {DropdownMenu} The new menu created.\r\n\t\t */\r\n\t\taddMenu : function(name) {\r\n\t\t\tvar menu = new DropdownMenu(this);\r\n\t\t\tmenu.setText(name);\r\n\t\t\tmenu.setDirection(DropdownMenu.LEFT);\r\n\t\t\tmenu.showArrow();\r\n\t\t\tmenu.setAlignment(Text.LEFT);\r\n\t\t\tmenu.setMargin(25);\r\n\r\n\t\t\tthis.items.push(menu);\r\n\r\n\t\t\treturn menu;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Update all items in the menu.\r\n\t\t * \r\n\t\t * @method updateItems\r\n\t\t */\r\n\t\tupdateItems : function() {\r\n\t\t\tfor(var i = 0; i < this.items.length; i++)\r\n\t\t\t{\r\n\t\t\t\tthis.items[i].size.copy(this.size);\r\n\t\t\t\tthis.items[i].position.set(0, this.size.y * i);\r\n\t\t\t\tthis.items[i].updateInterface();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tupdateSize : function()\t{\r\n\t\t\tthis._elm.style.width = this.size.x + \"px\";\r\n\t\t\tthis._elm.style.height = (this.size.y * this.items.length) + \"px\";\r\n\r\n\t\t\tthis.updateItems();\r\n\t\t},\r\n\r\n\t\tupdatePosition : function() {\r\n\t\t\tthis._elm.style.top = (this.position.y - this.offset.y) + \"px\";\r\n\t\t\tthis._elm.style.left = (this.position.x - this.offset.x) + \"px\";\r\n\r\n\t\t\t//Check if its inside window\r\n\t\t\t\r\n\t\t\t//var out = DOMUtils.checkBorder(this._elm);\r\n\t\t\tvar out = geom.testAxis(this._elm);\r\n\t\t\tif(out.x !== 0)\r\n\t\t\t{\r\n\t\t\t\tthis._elm.style.left = (this.position.x + this.offset.x - this.size.x) + \"px\"; \r\n\t\t\t}\r\n\t\t\tif(out.y !== 0)\r\n\t\t\t{\r\n\t\t\t\tthis._elm.style.top = (this.position.y - this.offset.y - out.y) + \"px\";\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t});\r\n\r\n\tContextMenu.prototype.addOption = ContextMenu.prototype.addItem;\r\n\tContextMenu.prototype.removeOption = ContextMenu.prototype.removeItem;\r\n\tContextMenu.prototype.updateOption = ContextMenu.prototype.updateItems;\r\n\r\n\treturn menus.ContextMenu = ContextMenu;\r\n});\ndefine('skylark-widgets-menus/main',[\r\n\t\"./menus\",\r\n\t\"./ButtonMenu\",\r\n\t\"./ContextMenu\",\r\n\t\"./DropdownMenu\"\r\n],function(menus){\r\n\treturn menus;\r\n});\ndefine('skylark-widgets-menus', ['skylark-widgets-menus/main'], function (main) { return main; });\n\n"]}