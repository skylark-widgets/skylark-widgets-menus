/**
 * skylark-widgets-menus - The skylark menu widgets library
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-widgets/skylark-widgets-menus/
 * @license MIT
 */
!function(t,e){var s=e.define,require=e.require,i="function"==typeof s&&s.amd,n=!i&&"undefined"!=typeof exports;if(!i&&!s){var o={};s=e.define=function(t,e,s){"function"==typeof s?(o[t]={factory:s,deps:e.map(function(e){return function(t,e){if("."!==t[0])return t;var s=e.split("/"),i=t.split("/");s.pop();for(var n=0;n<i.length;n++)"."!=i[n]&&(".."==i[n]?s.pop():s.push(i[n]));return s.join("/")}(e,t)}),resolved:!1,exports:null},require(t)):o[t]={factory:null,resolved:!0,exports:s}},require=e.require=function(t){if(!o.hasOwnProperty(t))throw new Error("Module "+t+" has not been defined");var module=o[t];if(!module.resolved){var s=[];module.deps.forEach(function(t){s.push(require(t))}),module.exports=module.factory.apply(e,s)||null,module.resolved=!0}return module.exports}}if(!s)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(t,require){t("skylark-widgets-menus/menus",["skylark-langx/skylark"],function(t){return t.attach("widgets.menus",{})}),t("skylark-widgets-menus/button-menu",["skylark-widgets-base/widget","skylark-widgets-base/mixins/text-mixin","./menus"],function(t,e,s){"use strict";var i=t.inherit({_construct:function(e){t.prototype._construct.call(this,e,"div"),this._elm.style.cursor="pointer",this.preventDragEvents();var s=this.getSkin();this._elm.style.color=s.textColor,this._elm.style.display="flex",this._buildText(),this.setColor(s.buttonColor,s.buttonOverColor),this.span.style.textIndent="25px",this.icon=null,this.setColor(s.buttonColor,s.buttonOverColor)},setColor:function(t,e){this._elm.style.backgroundColor=t,this._elm.onmouseenter=function(){this.style.backgroundColor=e},this._elm.onmouseleave=function(){this.style.backgroundColor=t}},setStyles:function(t,e){for(var s in t)this._elm.style[s]=t[s];this._elm.onmouseenter=function(){for(var t in e)this.style[t]=e[t]},this._elm.onmouseleave=function(){for(var e in t)this.style[e]=t[e]}},setIcon:function(t){null===this.icon&&(this.icon=document.createElement("img"),this.icon.style.position="absolute",this.icon.style.display="block",this.icon.style.left="5px",this.icon.style.top="3px",this.icon.style.width="12px",this.icon.style.height="12px",this._elm.appendChild(this.icon)),this.icon.src=t},...e});return s.ButtonMenu=i}),t("skylark-widgets-menus/dropdown-menu",["skylark-langx-numerics/vector2","skylark-domx-geom","skylark-widgets-base/widget","skylark-widgets-base/panels/panel","skylark-widgets-base/mixins/text-mixin","./menus","./button-menu"],function(t,e,s,i,n,o,l){"use strict";var r=s.inherit({...n,_construct:function(e){s.prototype._construct.call(this,e,"div");var n=this.getSkin();this._elm.style.backgroundColor=Editor.theme.buttonColor,this._elm.style.cursor="pointer",this._elm.style.pointerEvents="auto",this._buildText(),this.preventDragEvents(),this.panel=new i(e,"div"),this.panel._elm.style.overflow="visible",this.panel._elm.style.display="none",this.panel._elm.style.zIndex="300",this.icon=null,this.arrow=document.createElement("img"),this.arrow.style.display="none",this.arrow.style.position="absolute",this.arrow.style.right="5px",this.arrow.style.top="3px",this.arrow.style.width="12px",this.arrow.style.height="12px",this.arrow.src=n.arrowRightImageUrl,this._elm.appendChild(this.arrow),this.direction=r.DOWN,this.expanded=!1,this.itemsSize=new t(150,20),this.items=[];var o=this;this._elm.onmouseenter=function(){o.setExpanded(!0),o._elm.style.backgroundColor=n.buttonOverColor},this._elm.onmouseleave=function(){o.setExpanded(!1),o._elm.style.backgroundColor=n.buttonColor},this.panel._elm.onmouseenter=function(){o.setExpanded(!0)},this.panel._elm.onmouseleave=function(){o.setExpanded(!1)}},setDirection:function(t){this.direction=t},showArrow:function(){this.arrow.style.display="block"},setIcon:function(t){null===this.icon&&(this.icon=document.createElement("img"),this.icon.style.display="block",this.icon.style.position="absolute",this.icon.style.left="5px",this.icon.style.top="3px",this.icon.style.width="12px",this.icon.style.height="12px",this._elm.appendChild(this.icon)),this.icon.src=t},removeItem:function(t){t>=0&&t<this.items.length&&(this.items[t].destroy(),this.items.splice(t,1))},addItem:function(t,e,s){var i=new l(this.panel);i._elm.style.zIndex="200",i.setText(t),i.setAlignment(n.LEFT),i.position.set(25,0);var o=this;return i.setOnClick(function(){e(),o.setExpanded(!1)}),void 0!==s&&i.setIcon(s),this.items.push(i),i},addMenu:function(t,e){var s=new r(this.panel);return s.setText(t),s.setDirection(r.LEFT),s.showArrow(),s.setAlignment(n.LEFT),s.setMargin(25),void 0!==e&&s.setIcon(e),this.items.push(s),s},setExpanded:function(t){if(this.expanded=t,this.expanded){if(this.panel._elm.style.display="block",this.direction===r.DOWN){this.panel._elm.style.top=this.position.y+this.size.y+"px",this.panel._elm.style.left=this.position.x+"px";var s=e.testAxis(this.panel);0!==s.y&&(this.panel._elm.style.top=null,this.panel._elm.style.bottom=this.position.y+this.size.y+"px"),0!==s.x&&(this.panel._elm.style.left=this.position.x-s.x+"px")}else if(this.direction===r.UP){this.panel._elm.style.bottom=this.position.y+this.size.y+"px",this.panel._elm.style.left=this.position.x+"px";var s=e.testAxis(this.panel);0!==s.y&&(this.panel._elm.style.bottom=null,this.panel._elm.style.top=this.position.y+this.size.y+"px"),0!==s.x&&(this.panel._elm.style.left=this.position.x-s.x+"px")}else if(this.direction===r.LEFT){this.panel._elm.style.top=this.position.y+"px",this.panel._elm.style.left=this.position.x+this.size.x+"px";var s=e.testAxis(this.panel);0!==s.x&&(this.panel._elm.style.left=this.position.x-this.size.x+"px"),0!==s.y&&(this.panel._elm.style.top=this.position.y-s.y+"px")}else if(this.direction===r.RIGHT){this.panel._elm.style.top=this.position.y+"px",this.panel._elm.style.left=this.position.x-this.size.x+"px";var s=e.testAxis(this.panel);0!==s.x&&(this.panel._elm.style.left=this.position.x+this.size.x+"px"),0!==s.y&&(this.panel._elm.style.top=this.position.y-s.y+"px")}}else this.panel._elm.style.display="none"},updateItems:function(){for(var t=0;t<this.items.length;t++)this.items[t].size.set(this.itemsSize.x,this.itemsSize.y),this.items[t].position.set(0,this.itemsSize.y*t),this.items[t].updateInterface();this.panel._elm.style.width=this.size.x+"px",this.panel._elm.style.height=this.itemsSize.y*this.items.length+"px"},destroy:function(){s.prototype.destroy.call(this),this.parent.destroy()},updateSize:function(){n.updateSize.call(this),this.updateItems()}});return r.DOWN=0,r.UP=1,r.LEFT=2,r.RIGHT=3,r.prototype.addOption=r.prototype.addItem,r.prototype.updateOptions=r.prototype.updateItems,o.DropdownMenu=r}),t("skylark-widgets-menus/context-menu",["skylark-langx-numerics/vector2","skylark-domx-geom","skylark-widgets-base/panels/panel","./menus","./button-menu","./dropdown-menu"],function(t,e,s,i,n,o){"use strict";var l=s.inherit({_construct:function(e){s.prototype._construct.call(this,e,"div");var i=this;this._elm.style.position="absolute",this._elm.style.overflow="visible",this._elm.style.zIndex="300",this._elm.onmouseleave=function(){i.destroy()},this.offset=new t(20,10),this.items=[]},setText:function(t){this.text.setText(t)},removeItem:function(t){t>=0&&t<this.items.length&&(this.items[t].destroy(),this.items.splice(t,1))},addItem:function(t,e){var s=new n(this);s._elm.style.zIndex="10000",s.setText(t),s.setAlignment(Text.LEFT),s.position.x=25;var i=this;s.setOnClick(function(){e(),i.destroy()}),this.items.push(s)},addMenu:function(t){var e=new o(this);return e.setText(t),e.setDirection(o.LEFT),e.showArrow(),e.setAlignment(Text.LEFT),e.setMargin(25),this.items.push(e),e},updateItems:function(){for(var t=0;t<this.items.length;t++)this.items[t].size.copy(this.size),this.items[t].position.set(0,this.size.y*t),this.items[t].updateInterface()},updateSize:function(){this._elm.style.width=this.size.x+"px",this._elm.style.height=this.size.y*this.items.length+"px",this.updateItems()},updatePosition:function(){this._elm.style.top=this.position.y-this.offset.y+"px",this._elm.style.left=this.position.x-this.offset.x+"px";var t=e.testAxis(this._elm);0!==t.x&&(this._elm.style.left=this.position.x+this.offset.x-this.size.x+"px"),0!==t.y&&(this._elm.style.top=this.position.y-this.offset.y-t.y+"px")}});return l.prototype.addOption=l.prototype.addItem,l.prototype.removeOption=l.prototype.removeItem,l.prototype.updateOption=l.prototype.updateItems,i.ContextMenu=l}),t("skylark-widgets-menus/main",["./menus","./button-menu","./context-menu","./dropdown-menu"],function(t){return t}),t("skylark-widgets-menus",["skylark-widgets-menus/main"],function(t){return t})}(s),!i){var l=require("skylark-langx-ns");n?module.exports=l:e.skylarkjs=l}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-widgets-menus.js.map
